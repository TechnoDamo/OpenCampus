import{j as e,u as d,r,a as p,c as u}from"./index-DlN4GKyY.js";import{L as g,T as f,S as x}from"./theme-provider-Bq6UCzHI.js";import{u as j}from"./use-storage-CXywz0c4.js";import{S as T}from"./storage-provider-BI6d8iAI.js";const v=()=>{const t=d(),{addDiagram:s,deleteDiagram:o}=j(),n=r.useRef(!1),a=p().template,c=r.useCallback(async()=>{if(!a||n.current)return;n.current=!0;const i=u(a);await o(i.id);const m=new Date,l={...i,createdAt:m,updatedAt:m};await s({diagram:l}),t(`/diagrams/${l.id}`)},[s,o,t,a]);return r.useEffect(()=>{a?c():t("/templates")},[a,t,c]),e.jsx("section",{className:"flex w-screen flex-col bg-background",children:e.jsx(x,{size:"large",className:"mt-20 text-pink-600"})})},N=()=>e.jsx(g,{children:e.jsx(T,{children:e.jsx(f,{children:e.jsx(v,{})})})});export{v as CloneTemplateComponent,N as CloneTemplatePage};
